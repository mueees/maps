Полилиния
По точкам, мы должны строить набор полилиний, с характеристиками

Исходно у нас есть набор точек с характеристиками
[
    {
        type: "Marker",
        lan: 23,
        lon: 2
        elev: 344,
        temperature: 23,
        speed: 23
    },
    {...},
    ...
]
Получены они из gpx файла, или пользователь создал их вручную.
Далее из них необходимо построить массив полилиний, только с 2мя координатами
[
    {
        type: "Polyline",
        coordinates: [
            [23, 4],
            [25, 6]
        ],
        elev: 234,
        temperature: 22,
        speed: 23,
        distance: 56,
        angel: 23 //зная высоту точек, можно сказать это уклон вниз или вверх
    }
]
и отрисовать эту полилинию.
Получается, что нужна группа полилиний только для того, чтобы отрисовывать разными цветами участки линии.

Если, изменяется характеристика точки, то две полилинии,
в которую точка входила, перерасчитывают свои значения.

Если точка удаляется, полилиния перерасчитывается заново.

Что будем делать в расширенном редактировании.
1. Можно ли удалять точки ?
    Да.
2. Менять координаты точек ?
    Да.
3. Разрезать полилинию на несколько частей ?
4. Фильтровать точки ? Да
    Да, точки можно помечать как скрытые, при этом будет произведен перерасчет полилинии
5. Фильтровать екстремумы.